<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title>JavaScript Browser Bits</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="lib/reveal.js/css/reveal.css">
    <link rel="stylesheet" href="lib/reveal.js/css/theme/black.css">
    <link rel="stylesheet" href="lib/reveal.js/lib/css/zenburn.css">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>

    <div class="reveal">
      <div class="slides">
        <section data-background="#fff">
          <h1>JavaScript <br />Browser Bits</h1>
          <h3>@BenjaminBenBen</h3>
        </section>

        <section>
          <section data-background="#eee">
            <h2>I'm Ben</h2>
          </section>
          <section>
            <h2>Freelance developer</h2>
            <h4>based in Oxford</h4>
          </section>
          <section>
            <h4>[relevant stuff]</h4>
          </section>
        </section>

        <section>
          <section>
            <h2>We're going to cover a lot</h2>
          </section>
          <!--section>
            <h4>1. <span class="fragment">Struggle to learn something</span>
            </h4>
            <h4>2. <span class="fragment">Work it out</span>
            </h4>
            <h4>3. <span class="fragment">Assume everyone else knew it already</span>
            </h4>
          </section-->
        </section>

        <section>
          <section data-background="#fff">
            <h1>Bits</h1>
          </section>

          <section>
            <h2>[hands]</h2>
            <h4>Decimal (base 10)</h4>
          </section>

          <section>
            <h2>[microchip]</h2>
            <h4>Binary (base 2)</h4>
          </section>

          <section id="count-dec">
            <h3>Base 10</h3>
            <h1 class="output-dec mono" style="text-align:right">-</h1>

            <h3>Base 2</h3>
            <h1 class="output-bin mono" style="text-align:right">-</h1>

            <!-- <h3>Base 8</h3>
            <h1 class="output-oct mono" style="text-align:right">-</h1>

            <h3>Base 16</h3>
            <h1 class="output-hex mono" style="text-align:right">-</h1> -->
          </section>

          <section>
            <h3>How to JavaScript</h3>
          </section>

          <section>
            <h3>Literals</h3>
            <h1><pre><code data-trim class="hljs javascript">
              42 == 42
              42 == 0b101010 //*es6
              42 == 0o52
              42 == 0x2a
            </code></pre></h1>
          </section>

          <section>
            <h3>Parsing</h3>
            <h1><pre><code data-trim class="hljs javascript">
              42 == parseInt('42',     10)
              42 == parseInt('101010', 2)
              42 == parseInt('52',     8)
              42 == parseInt('2a',     16)
            </code></pre></h1>
          </section>

          <section>
            <h3>Outputting</h3>
            <h1><pre><code data-trim class="hljs javascript">
              (42).toString(10) == '42'
              (42).toString(2)  == '101010'
              (42).toString(8)  == '52'
              (42).toString(16) == '2a'
            </code></pre></h1>
          </section>

          <section>
            <h2>Numbers are just numbers</h2>
            <h1><pre><code data-trim class="hljs javascript">
              Math.sqrt(
                Math.pow(3, 0b10) +
                Math.pow(0o4, 0x2)
              )
            </code></pre></h1>
          </section>

          <section>
            <h2>But also, binary stuff.</h2>
            <h1>OR, AND, NOT, …</h1>
          </section>

          <section>
            <h1 class="head-up">AND ( &amp; )</h1>
            <h1><pre><code data-trim class="hljs javascript">
                 0b0000000011111111
              &amp;  0b0000111111110000

              == 0b0000000011110000
            </code></pre></h1>
          </section>

          <section>
            <h1 class="head-up">OR ( | )</h1>
            <h1><pre><code data-trim class="hljs javascript">
                 0b0000000011111111
              |  0b0000111111110000

              == 0b0000111111111111
            </code></pre></h1>
          </section>


          <section>
            <h1 class="head-up">NOT ( ~ )</h1>
            <h1><pre><code data-trim class="hljs javascript" data-noescape>
              ~  0b0000000011111111

              == 0b1111111100000000

              <span class="fragment">== -256</span>
            </code></pre></h1>
          </section>


          <section id="bit-shift">
            <h1 class="head-up">Bit shifting ( << >> )</h1>
            <h1><pre><code data-trim class="hljs javascript" data-noescape>
                 0b0000000011111111

              <span class="_operator">>> 4</span>

              == 0b<span class="_value">0000000000001111</span>
            </code></pre></h1>
          </section>


          <section>
            <h1>In use</h1>
          </section>

          <section>
            <h3><pre><code data-trim class="hljs javascript" data-noescape>
              const FLAG_1 = 0b0001
              const FLAG_2 = 0b0010
              const FLAG_3 = 0b0100
              const FLAG_4 = 0b1000

              if(v &amp; FLAG_1) …
              if(v &amp; FLAG_1 &amp;&amp; v &amp; FLAG_3) …

              const v = FLAG_1 | FLAG_4
            </code></pre></h3>
          </section>

          <section>
            <h3><pre><code data-trim class="hljs javascript" data-noescape>
              const floor = 3.145|0


              if(~str.indexOf(word)) {
                // doesn't contain word
              }
            </code></pre></h3>
          </section>

          <section>
            <h3>Example task</h3>
            <h4>CSS Hex to RGB</h4>
          </section>

          <!-- <section>

            <h2><pre class="stretch"><code data-trim class="hljs javascript" data-noescape>
              const colour = parseInt('bada55', 16)
              // [r     ][g     ][b     ]
              // 101110101101101001010101
              const blue  = colour &amp; 0xff
              // 01010101 (85)
              const green = colour >> 8 &amp; 0xff
              // 11011010 (218)
              const red   = colour >> 16
              // 10111010 (186)
              `rgb(${red}, ${green}, ${blue})`
              // rgb(186, 218, 85)
            </code></pre></h2>
          </section>

           -->

           <section>

             <h2><pre class="stretch"><code data-trim class="hljs javascript" data-noescape>
              const rgb = c =>
                `rgb(${c>>16}, ${c>>8&amp;255}, ${c&amp;255})`

              const from_hex = h =>
                rgb(parseInt(h.slice(1), 16))

              // from_hex('#123456') -> "rgb(18, 52, 86)"


              <!-- const hex_to_rgb = hex =>
                (c => `rgb(${c>>16}, ${c>>8&255}, ${c&255})`)
                (parseInt(hex, 16)) -->

             </code></pre></h2>
           </section>
        </section>

        <section>
          <section data-background="#fff">
            <h1>Longer than 0xffffffff?</h1>
            <p class="mono">
              00010101010101010101010101010101010100001010101010
              10101010101010101010101000010101010101010101010101
              01010101010000101010101010101010101010101010101000
              01010101010101010101010101010101010000101010101010
              10101010101010101010101000010101010101010101010101
              01010101010000101010101010101010101010101010101000
              01010101010101010101010102<!-- lol -->010101010000101010101010
              10101010101010101010101000010101010101010101010101
              01010101010000101010101010101010101010101010101000
              01010101010101010101010101010101010000101010101010
              01010101010101010101010101010101010000101010101010
              10101010101010101010101000010101010101010101010101
              01010101010000101010101010101010101010101010101000
              01010101010101010101010101010101010000101010101010
            </p>
          </section>
          <section>
            <h1>Array Buffers</h1>
            <!-- <p class="mono">
              00010101010101010101010101010101010100001010101010
              10101010101010101010101000010101010101010101010101
              01010101010000101010101010101010101010101010101000
              01010101010101010101010101010101010000101010101010
            </p> -->
          </section>

          <section>
            <h1>Typed Arrays</h1>
            <h3>
              Int8Array,
              Uint8Array,
              Uint8ClampedArray,
              Int16Array,
              Uint16Array,
              Int32Array,
              Uint32Array,
              Float32Array,
              Float64Array
            </h3>
          </section>

          <section>
            <h2>t_array = new Uint8Array(48)</h2>
            <h2>buffer = t_array.buffer</h2>

            <div data-buffer-view="buffer" class="mono">
            </div>

            <!-- <p class="mono">
              00010101010101010101010101010101010100001010101010
              10101010101010101010101000010101010101010101010101
              01010101010000101010101010101010101010101010101000
              01010101010101010101010101010101010000101010101010
            </p> -->
          </section>

          <section>
          </section>

        </section>

      </div>
    </div>

    <script src="lib/reveal.js/lib/js/head.min.js"></script>
    <script src="lib/reveal.js/js/reveal.js"></script>
    <script src="lib/slide-builder/slide-builder.js"></script>

    <script src="lib/@tweenjs/tween.js/src/Tween.js"></script>

    <script>

      Reveal.initialize({
        controls: false,
        progress: false,
        history: true,
        center: true,

        // margin: 0,
        width: 1280,
        height: 720,

        transition: 'slide',

        dependencies: [
          {
            src: 'lib/reveal.js/plugin/highlight/highlight.js',
            callback: function() { hljs.initHighlightingOnLoad() }
          },

          {src: 'scripts/bufferView.js'},

          {
           src: 'scripts/CountDecimal.js',
           callback: () => {
             setTimeout(() => {
               new CountDecimal('#count-dec')
             }, 100)
           }
         },

         {
          src: 'scripts/BitShift.js',
          callback: () => {
            setTimeout(() => {
              new BitShift('#bit-shift')
            }, 100)
          }
        }
        ]
      })

    </script>

  </body>
</html>
